{
  "name" : "Rolex",
  "modified" : "2019-04-11 09:40:52",
  "username" : "ejonuzoski",
  "document_id" : -217458040,
  "type" : "FORM",
  "form" : {"report":{"cross_scheme_filters":[{"expression":{"path":"tcpos.bookkeeping_date","type":"DATE"},"filter":{"items":[{"comparator":"IN_RANGE","expression":{"type":"DATE","value":"2018-09-01;2018-09-30"},"display":"2018-09-01 - 2018-09-30","properties":{"start":"01-09-2018","stop":"30-09-2018","option":"months","path":"tcpos.bookkeeping_date"}}],"and_or":"AND"},"display":"Date"}],"properties":{"css":{"header":{"text-transform":"uppercase"}},"active_step":"s0"},"steps":[{"alias":"s0","columns":[{"alias":"s0_c0","name":"Birthday","expression":{"path":"tcpos.CUS.ANNIVERSARY","type":"DATE","resettable":false},"resettable":false},{"alias":"s0_c1","name":"Card number","expression":{"path":"tcpos.CUS.CARD_NUM","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c2","name":"Card type","expression":{"path":"tcpos.CUS.CARD_TYPE","type":"ID","resettable":false},"resettable":false},{"alias":"s0_c3","name":"City","expression":{"path":"tcpos.CUS.CITY","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c4","name":"Company","expression":{"path":"tcpos.COM.DESCRIPTION","type":"TEXT","resettable":false},"properties":{"width":200.0},"resettable":false},{"alias":"s0_c5","name":"Company code","expression":{"path":"tcpos.COM.CODE","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c6","name":"Country","expression":{"path":"tcpos.CUS.COUNTRY","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c7","name":"Customer category","expression":{"path":"tcpos.CUS.CATEGORY","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c8","name":"Customer code","expression":{"path":"tcpos.CUS.CODE","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c9","name":"Customer name","expression":{"path":"tcpos.CUS.DESCRIPTION","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c10","name":"Email","expression":{"path":"tcpos.CUS.EMAIL","type":"TEXT","resettable":false},"properties":{"width":300.0},"resettable":false},{"alias":"s0_c11","name":"Language","expression":{"path":"tcpos.LAN.DESCRIPTION","type":"TEXT","resettable":false},"properties":{"width":200.0},"resettable":false},{"alias":"s0_c12","name":"Language code","expression":{"path":"tcpos.LAN.CODE","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c13","name":"Nationality","expression":{"path":"tcpos.CUS.NATION","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c14","name":"Other Info","expression":{"path":"tcpos.CUS.OTHER_INFOS","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c15","name":"Phone","expression":{"path":"tcpos.CUS.PHONE","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c16","name":"Postal Code","expression":{"path":"tcpos.CUS.ZIP_CODE","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c17","name":"Prepayment balance","expression":{"path":"tcpos.CUS.PREPAY_BALANCE_CASH","type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"resettable":false},{"alias":"s0_c18","name":"Street","expression":{"path":"tcpos.CUS.STREET","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c19","name":"Title","expression":{"path":"tcpos.CUS.TITLE","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c20","name":"UID Company","expression":{"path":"tcpos.COM.COMPANY_ID","type":"ID","resettable":false},"resettable":false},{"alias":"s0_c21","name":"UID customer","expression":{"path":"tcpos.CUS.CUSTOMER_ID","type":"ID","resettable":false},"resettable":false},{"alias":"s0_c22","name":"Valid Customer","expression":{"path":"tcpos.CUS.IS_VALID","type":"BOOLEAN","resettable":false},"resettable":false}],"grouping":false,"name":"Customers","properties":{"scheme":"Customers"},"chart":false,"scheme":"CUS"}]},"custom":{"template":"<!DOCTYPE html> <% var date_format = 'dddd DD MMMM'; var number_format = '0.00'; var number_currency = 'CHF'; %> <html> <head> <meta charset='utf-8'> <style> <% if(pdf){ %> .rolex-main-container{ width:100%; height:100%; font-size:16px; margin: 0 auto; } <% }else{%> .rolex-main-container{ width:50%; height:100%; font-size:16px; margin: 0 auto; } <% }%> .rolex-main-container .logo-container{ width:100%; text-align:center; } .rolex-main-container .logo-container img{ width:100px; } .rolex-main-container .title-container{ width:100%; text-align:center; } .rolex-main-container .errors-container, .rolex-main-container .buttons-container, .rolex-main-container .names-container table, .rolex-main-container .costs-main-table, .rolex-main-container .costs-totals, .rolex-main-container .signature-container{ width:100%; margin:0 auto; } .rolex-main-container .buttons-container{ text-align: right; } .rolex-main-container .signature-container small, .rolex-main-container .names-container, .rolex-main-container p{ color:gray; } .rolex-main-container .names-container{ width:100%; } .rolex-main-container .names-container table tr{ border-bottom:1px solid gray; height:35px; } .rolex-main-container .text-right{ text-align: right; } .rolex-main-container .text-center{ text-align: center; } .rolex-main-container .costs-container{ width:100%; } .rolex-main-container .costs-totals{ color:gray; margin:0 auto; } .rolex-main-container .errors-container table, .rolex-main-container .costs-main-table{ border:1px solid #127749; width:100%; } .rolex-main-container .errors-container th, .rolex-main-container .errors-container td, .rolex-main-container .costs-main-table th, .rolex-main-container .costs-main-table td{ padding:5px; } .rolex-main-container .errors-container table th, .rolex-main-container .costs-main-table th{ border-right:1px solid white; } .rolex-main-container .errors-container table th:last-child, .rolex-main-container .costs-main-table th:last-child{ border-right:1px solid #127749; } .rolex-main-container .errors-container table tr, .rolex-main-container .costs-main-table tbody tr{ border-bottom:1px solid #127749; } .rolex-main-container .costs-main-table tbody td:first-child{ background:#bde8d4; text-align:center; width:5%; } .rolex-main-container .costs-main-table tbody tr:last-child{ border-bottom:0; } .rolex-main-container .errors-container table th, .rolex-main-container .costs-main-table th{ text-align:center; color:white; background:#127749; } .rolex-main-container .signature-container p{ margin-bottom:0; } .rolex-main-container .signature-container .signature-line{ margin-top:35px; color:gray; } </style> </head> <body> <div class=\"rolex-main-container\"> <% if(!pdf){%> <button class='btn btn-outline-primary float-right'>SEND ALL</button> <div class='errors-container'> <p class=\"text-center\">Errors table</p> <table> <thead> <tr> <th>Emetteur</th> <th>Destinataire</th> <th>A retourner à</th> <th>Show</th> </tr> </thead> <tbody> <% _(errors).each(function(row, i){%> <tr> <td><%=row[0]%></td> <td><%=row[1]%></td> <td><%=row[2]%></td> <td> <button class='btn-sm btn-outline-primary show-report' data-index=\"<%=i%>\">SHOW</button> </td> </tr> <% }); %> </tbody> </table> </div> <br/> <br/> <br/> <br/> <br/> <br/> <% } %> <% _(data).each(function(d, i){ %> <% if(pdf){ %> <div class=\"logo-container\"> <img class=\"logo\" src=\"data:image/png;base64,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\"/> </div> <br> <div class=\"title-container\"> <h4>CONSOMMATIONS SUR CENTRE DE COÛT</h4> <p><%=date_period%></p> </div> <br> <% }else{%> <div class='buttons-container' data-customer_index='<%=i%>'> <button class='btn btn-outline-primary download-report'>DOWNLOAD</button> <button class='btn btn-outline-primary send-report'>SEND</button> </div> <% } %> <div class=\"names-container\"> <table> <tr> <td>Emetteur: </td> <td><%=d.transmitter%></td> </tr> <tr> <td>Destinataire: </td> <td><%=d.destinator%></td> </tr> <tr> <td>A retourner à: </td> <td><%=d.return_to%></td> </tr> </table> </div> <br> <br> <div class=\"costs-container\" data-index=\"<%=i%>\"> <table class=\"costs-totals\"> <tr> <td>Badge: <%=d.badge%></td> <td>Matricule: <%=d.registration_id%></td> <td class=\"text-right\">Total: <%=number_currency + ' ' + numeral(d.total).format(number_format)%></td> </tr> </table> <table class=\"costs-main-table\"> <thead> <tr> <th>#</th> <th>Centre de coût</th> <th>Date</th> <th>Montant</th> </tr> </thead> <tbody> <% _(d.costs_data).each(function(val, i){ %> <tr> <td><%=i+1%></td> <td><%=val[0]%></td> <td class=\"text-right\"><%=moment(val[1]).format(date_format)%></td> <td><%=number_currency + ' ' + numeral(val[2]).format(number_format)%></td> </tr> <%});%> </tbody> </table> <% if(pdf){ %> <br> <br> <table class=\"costs-main-table\"> <thead> <tr> <th>#</th> <th>Personnes présentes</th> <th>Motif de L'invitation</th> </tr> </thead> <tbody> <% _(d.costs_data).each(function(val, i){ %> <tr> <td><%=i+1%></td> <td></td> <td></td> </tr> <% }); %> </tbody> </table> <br> <div class=\"signature-container\"> <p>Votre signature:</p> <hr class=\"signature-line\"/> <p>Votre responsable: </p> <small>(minimum Fondé de Pouvoir)</small> </div> <% } %> </div> <br> <br> <br> <br> <br> <% });%> </div> </body> </html> ","view":"var CustomView = Backbone.View.extend({ el: '#content', template : '', ajax_loader: '.ajax-loader', dialog_el: '#dialog-element', document: '', report: '', CROSS_SCHEME_FILTERS: '', model: '', stats_model: '', AjaxColl: '', moment: '', numeral: '', utils: '', ParentView: '', costs_data: [], customers_data: [], data: [], errors: [], date_filter_path: 'tcpos.bookkeeping_date', initialize: function(options){ this.el = options.el; }, render: function(){ var temp; var is_pdf = false; var date_period = this.get_date_period_string(); this.get_errors(); this.get_customers_data(); this.get_costs_data(); temp = this.template({ 'data': this.data, 'errors': this.errors, 'numeral': this.numeral, 'moment': this.moment, 'cross_scheme_filters': this.CROSS_SCHEME_FILTERS, 'date_period': date_period, 'pdf': is_pdf }); this.$el.html(temp); return this; }, events: { 'click .download-report': 'set_download', 'click .send-report': 'set_send', 'click .show-report': 'set_focus' }, set_focus: function(e){ e.preventDefault(); e.stopPropagation(); var main_container = $('.div-form-view'); var error_index = Number(e.currentTarget.attributes['data-index'].value); var el_offset_top = this.$el.find('.buttons-container[data-customer_index=\"'+error_index+'\"]').offset().top-150; main_container.scrollTop(el_offset_top); return false; }, set_send: function(e){ e.preventDefault(); e.stopPropagation(); var that = this; var url_download = this.ParentView.HeaderView.get_dashboard_url(this.document.document_id); return false; }, set_download: function(e){ e.preventDefault(); e.stopPropagation(); var that = this; var url_download = this.ParentView.HeaderView.get_dashboard_url(this.document.document_id); require(['views/PreviewView'], function(PreviewView){ if(!that.PreviewView) that.PreviewView = new PreviewView({el:that.dialog_el, AjaxColl: that.AjaxColl}); that.PreviewView.url = url_download.url; that.PreviewView.render(); }); return false; }, /* * Function that gets the customer data * @returns {Boolean} */ get_customers_data: function(){ var that = this; this.customers_data = []; this.data = []; this.customers_data = [ ['Lous Villaschi / Novae', 'Bertrant Menoud/ AA 02.170.17', 'Christophe Guilland / AB.04.410.20'], ['Test User / Novae', 'Destination / AA 02.170.17', 'Retourner / AB.04.410.20'] ]; _(this.customers_data).each(function(d){ that.data.push({ 'transmitter': d[0], 'destinator': d[1], 'return_to': d[2], 'badge': '047720', 'registration_id': 00002502, 'total': 1293, 'costs_data': [] }); }); return false; }, /* * Function that gets the costs data * @returns {Boolean} */ get_costs_data: function(){ var that = this; var data; this.costs_data = []; _(this.customers_data).each(function(d, customer_index){ data = [ ['981 Ressources Humaines', '2019-09-19', '3.80'], ['9682 Management Developpement', '2019-09-22', '1234.50'], ['34537 Administration Commercial', '2019-09-25', '22'], ]; that.data[customer_index].costs_data = data; }); return false; }, get_errors: function(){ var that = this; var errors = [ ['Lous Villaschi / Novae', 'Bertrant Menoud/ AA 02.170.17', 'Christophe Guilland / AB.04.410.20'], ['Test User / Novae', 'Destination / AA 02.170.17', 'Retourner / AB.04.410.20'] ]; this.errors = errors; }, /* * Function that gets the date period string * @returns {String} */ get_date_period_string: function(){ var that = this; var date_string = ''; var date_format = sessionStorage.format_date; try{ _(this.CROSS_SCHEME_FILTERS).each(function(filter){ if(filter.expression.path === that.date_filter_path && filter.properties && filter.properties.option){ if(filter.filter.items){ _(filter.filter.items).each(function(filter_item, i){ if(i === 0){ date_string += that.moment(filter_item.expression.value).format(date_format); date_string += ' au '; } else if(i === 1) date_string += that.moment(filter_item.expression.value).format(date_format); }); } } }); return date_string; } catch(ex){ console.log(ex.message); date_string = 'Invalid date filter'; return date_string; } }, /* * Self destroying function */ close: function(){ if(this.PreviewView){ this.PreviewView.close(); delete this.PreviewView; } this.unbind(); this.remove(); } });","node_module":"\"\""} },
  "company" : "tekoe_tokudb",
  "translatable" : true,
  "folder_id" : 963590911,
  "keep_version" : false
}