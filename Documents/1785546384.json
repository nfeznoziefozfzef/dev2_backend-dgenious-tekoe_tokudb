{
  "name" : "Products - Waste analysis by product",
  "modified" : "2019-05-15 10:37:47",
  "requires" : [ "graph.tcpos", "scheme.TRA_ART" ],
  "username" : "egirod",
  "document_id" : 1785546384,
  "type" : "REPORT",
  "report" : {"cross_scheme_filters":[{"expression":{"path":"tcpos.SHO","type":"TEXT"},"filter":{"items":[{"comparator":"IS_DIFFERENT","expression":{"type":"TEXT","value":"Zurich Shop 3"},"display":"Zurich Shop 3"}],"and_or":"OR"},"display":"Shop"},{"expression":{"path":"tcpos.bookkeeping_date","type":"DATE"},"filter":{"items":[{"comparator":"IS_GREATER_OR_EQUAL","expression":{"path":"shared.1_week_ago","type":"DATE"},"display":"1 week ago"}],"and_or":"AND"},"display":"Date"}],"properties":{"css":{"header":{"text-transform":"uppercase"}},"active_step":"s3"},"steps":[{"alias":"s0","steps":[{"alias":"s1002","steps":[{"alias":"s3","columns":[{"alias":"s3_c0","name":"Article","expression":{"path":"source.s1002_c1003","type":"TEXT","resettable":false},"properties":{"width":250.0},"resettable":false},{"alias":"s3_c1","name":"Sales","expression":{"path":"source.s1002_c1006","type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"resettable":false},{"alias":"s3_c2","name":"Amount broken","expression":{"path":"source.s1002_c1010","type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"resettable":false},{"alias":"s3_c3","name":"Amount wasted","expression":{"path":"source.s1002_c1011","type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"resettable":false},{"alias":"s3_c4","name":"Total loss","expression":{"path":"shared.sum","parameters":[{"path":"this.s3_c2","type":"DECIMAL","resettable":false},{"path":"this.s3_c3","type":"DECIMAL","resettable":false}],"type":"DECIMAL","resettable":false},"resettable":false},{"alias":"s3_c5","name":"% sales","expression":{"path":"shared.divide","parameters":[{"path":"this.s3_c4","type":"DECIMAL","resettable":false},{"path":"this.s3_c1","type":"DECIMAL","resettable":false}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00%","format_dec_length":2,"format_mand_decimals":true,"format_type":"percent"},"resettable":false}],"orderings":[{"column":"s3_c5","order":"DESCENDING"}],"grouping":false,"name":"Losses (value)","chart":false}],"columns":[{"alias":"s1002_c1003","name":"Article","grouping":"GROUP","expression":{"path":"source.s0_c1","type":"TEXT","resettable":false},"properties":{"width":250.0},"resettable":false},{"alias":"s1002_c1006","name":"null","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_null","parameters":[{"path":"source.s0_c3","type":"TEXT","resettable":false}],"type":"BOOLEAN","resettable":false},{"path":"source.s0_c4","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"comment":"Amount for all rows where  column 'Article gratuity description' equals 'null'","resettable":false},{"alias":"s1002_c1007","name":"CASSE","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s0_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"CASSE"}],"type":"BOOLEAN","resettable":false},{"path":"source.s0_c4","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"comment":"Amount for all rows where  column 'Article gratuity description' equals 'CASSE'","resettable":false},{"alias":"s1002_c1008","name":"INVENDUS","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s0_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"INVENDUS"}],"type":"BOOLEAN","resettable":false},{"path":"source.s0_c4","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"comment":"Amount for all rows where  column 'Article gratuity description' equals 'INVENDUS'","resettable":false},{"alias":"s1002_c1009","name":"null","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_null","parameters":[{"path":"source.s0_c3","type":"TEXT","resettable":false}],"type":"BOOLEAN","resettable":false},{"path":"source.s0_c7","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"comment":"Loss for all rows where  column 'Article gratuity description' equals 'null'","resettable":false},{"alias":"s1002_c1010","name":"CASSE","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s0_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"CASSE"}],"type":"BOOLEAN","resettable":false},{"path":"source.s0_c7","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"comment":"Loss for all rows where  column 'Article gratuity description' equals 'CASSE'","resettable":false},{"alias":"s1002_c1011","name":"INVENDUS","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s0_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"INVENDUS"}],"type":"BOOLEAN","resettable":false},{"path":"source.s0_c7","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"comment":"Loss for all rows where  column 'Article gratuity description' equals 'INVENDUS'","resettable":false}],"orderings":[{"column":"s1002_c1003","order":"ASCENDING"}],"grouping":true,"name":"Amount & Loss","properties":{"sets":{"enabled":true,"items":[{"name":"Amount","columns":["s1002_c1006","s1002_c1007","s1002_c1008"]},{"name":"Loss","columns":["s1002_c1009","s1002_c1010","s1002_c1011"]}]}}},{"alias":"s1000","steps":[{"alias":"s2","columns":[{"alias":"s2_c0","name":"Article","expression":{"path":"source.s1000_c1001","type":"TEXT","resettable":false},"properties":{"width":250.0},"resettable":false},{"alias":"s2_c1","name":"Qty sold","expression":{"path":"source.s1000_c1003","type":"DECIMAL","resettable":false},"properties":{},"resettable":false},{"alias":"s2_c2","name":"qty broken","expression":{"path":"source.s1000_c1004","type":"DECIMAL","resettable":false},"properties":{},"resettable":false},{"alias":"s2_c3","name":"qty wasted","expression":{"path":"source.s1000_c1005","type":"DECIMAL","resettable":false},"properties":{},"resettable":false},{"alias":"s2_c4","name":"total qty wasted","expression":{"path":"shared.sum","parameters":[{"path":"this.s2_c2","type":"DECIMAL","resettable":false},{"path":"this.s2_c3","type":"DECIMAL","resettable":false}],"type":"DECIMAL","resettable":false},"resettable":false},{"alias":"s2_c5","name":"% of sales","expression":{"path":"shared.divide","parameters":[{"path":"this.s2_c4","type":"DECIMAL","resettable":false},{"path":"this.s2_c1","type":"DECIMAL","resettable":false}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00%","format_dec_length":2,"format_mand_decimals":true,"format_type":"percent"},"resettable":false}],"orderings":[{"column":"s2_c5","order":"DESCENDING"}],"grouping":false,"name":"Losses (qty)","chart":false}],"columns":[{"alias":"s1000_c1001","name":"Article","grouping":"GROUP","expression":{"path":"source.s0_c1","type":"TEXT","resettable":false},"properties":{"width":250.0},"resettable":false},{"alias":"s1000_c1003","name":"null","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_null","parameters":[{"path":"source.s0_c3","type":"TEXT","resettable":false}],"type":"BOOLEAN","resettable":false},{"path":"source.s0_c8","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{},"comment":"Quantity for all rows where  column 'Article gratuity description' equals 'null'","resettable":false},{"alias":"s1000_c1004","name":"CASSE","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s0_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"CASSE"}],"type":"BOOLEAN","resettable":false},{"path":"source.s0_c8","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{},"comment":"Quantity for all rows where  column 'Article gratuity description' equals 'CASSE'","resettable":false},{"alias":"s1000_c1005","name":"INVENDUS","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s0_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"INVENDUS"}],"type":"BOOLEAN","resettable":false},{"path":"source.s0_c8","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{},"comment":"Quantity for all rows where  column 'Article gratuity description' equals 'INVENDUS'","resettable":false}],"orderings":[{"column":"s1000_c1001","order":"ASCENDING"}],"grouping":true,"name":"Quantity"}],"columns":[{"alias":"s0_c0","name":"Date","expression":{"path":"tcpos.TRA.BOOKKEEPING_DATE","type":"DATE","resettable":false},"resettable":false},{"alias":"s0_c1","name":"Article","expression":{"path":"tcpos.ART.DESCRIPTION","type":"TEXT","resettable":false},"properties":{"width":250.0},"resettable":false},{"alias":"s0_c2","name":"UID gratuity","expression":{"path":"tcpos.ARC.CAUSAL_ID","type":"ID","resettable":false},"resettable":false},{"alias":"s0_c3","name":"Article gratuity description","expression":{"path":"tcpos.ARC.DESCRIPTION","type":"TEXT","resettable":false},"resettable":false},{"alias":"s0_c8","name":"Quantity","expression":{"path":"tcpos.TRA_ART.QTY","type":"DECIMAL","resettable":false},"resettable":false},{"alias":"s0_c4","name":"Amount","expression":{"path":"tcpos.TRA_ART.AMOUNT","type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"resettable":false},{"alias":"s0_c5","name":"Promotion amount","expression":{"path":"tcpos.TRA_ART.REBATE","type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"resettable":false},{"alias":"s0_c6","name":"Line amount before discounts","expression":{"path":"tcpos.TRA_ART.PRICE","type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"resettable":false},{"alias":"s0_c7","name":"Loss","expression":{"path":"shared.subtract","parameters":[{"type":"INTEGER","value":"0"},{"path":"this.s0_c5","type":"DECIMAL","resettable":false}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"resettable":false}],"grouping":false,"name":"Ticket lines","properties":{"scheme":"Ticket lines"},"chart":false,"scheme":"TRA_ART"}],"public_steps":["s3","s2"] },
  "company" : "tekoe_tokudb",
  "translatable" : true,
  "folder_id" : -480207834,
  "keep_version" : false
}